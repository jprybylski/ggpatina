<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Vibe Coding • ggpatina</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Vibe Coding">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggpatina</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/ggpatina.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/vibe.html">Vibe Coding</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jprybylski/ggpatina/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Vibe Coding</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jprybylski/ggpatina/blob/master/vignettes/articles/vibe.Rmd" class="external-link"><code>vignettes/articles/vibe.Rmd</code></a></small>
      <div class="d-none name"><code>vibe.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This package was developed using <a href="https://en.wikipedia.org/wiki/Vibe_coding" class="external-link">vibe coding</a>. While
there are many approaches to building a package using AI, because this
started as a basic “is this possible?” question to ChatGPT’s new
(at-the-time) version 5 model, it grew organically from there. This page
is designed to walk through the series of prompts and tasks used to
create this package. For those not interested in the narrative journey
or who just want to walk through the chat themselves, see <a href="https://chatgpt.com/share/68bdc4b6-ae58-800c-8d49-89ec9f2964a2" class="external-link">this
link</a>.</p>
<p>I appreciate there is a great deal of controversy in the use of AI in
the arts and software development. This little project did not seem
worth the investment of real time to develop, nor does it need to meet
any sort of rigorous standard in application. Even in this case, GPT
needed a great deal of hand-holding and direction to meet the minimum of
I was seeking. I wouldn’t consider this project an endorsement of AI or
(melodramatically) a claim that vibe coding is just as good as classic
coding, but as a tinkerer I can’t resist trying a new (or improved)
tool.</p>
</div>
<div class="section level2">
<h2 id="inception">Inception<a class="anchor" aria-label="anchor" href="#inception"></a>
</h2>
<p>I have always been a fan of how screenshots or scanned figures from
old journals looked. Or how plots look after someone uses an image they
took of of slide containing that plot elsewhere (<a href="https://www.mrowe.co.za/blog/2023/08/a-few-thoughts-on-taking-photos-of-slides-at-conferences/" class="external-link">speaking
of controversies</a>). Accompanying this section are some examples from
pdfs I had sitting around.</p>
<div class="figure" style="text-align: center">
<img src="figures/clipboard-1604547860.png" alt="Nice, official scan released by publisher. From: Collander R. The Partition of Organic Compounds Between Higher Alcohols and Water. Acta Chemica Scandinavica. 1951;5:774-780."><p class="caption">
Nice, official scan released by publisher. From: Collander R. The
Partition of Organic Compounds Between Higher Alcohols and Water. Acta
Chemica Scandinavica. 1951;5:774-780.
</p>
</div>
<div class="figure" style="text-align: center">
<img src="figures/higuchi.png" alt="Sloppy, phone-based scan. From: Higuchi WI, Higuchi T. Theoretical Analysis of Diffusional Movement Through Heterogeneous Barriers. J Am Pharm Ass (Scientific ed.). 1960 Sep 1;49(9):598-606. (Scanned by me, circa 2014)"><p class="caption">
Sloppy, phone-based scan. From: Higuchi WI, Higuchi T. Theoretical
Analysis of Diffusional Movement Through Heterogeneous Barriers. J Am
Pharm Ass (Scientific ed.). 1960 Sep 1;49(9):598-606. (Scanned by me,
circa 2014)
</p>
</div>
<p>Edward Tufte’s books are rich with examples of what I’m referencing
(at least in terms of scanned plots from a variety of popular and
academic sources). A read through any of his works will find plots of
various age, style and quality; a museum of data visualization to
inspire and inform.</p>
<p>The point is that plots with this appearance seem like they meant
something to someone at some point that it motivated them to capture it
and collect it. While a small visual effect will not imbue a plot with
that authentic and candid backstory, it can be fun to give a trivial
plot the appearance of that importance.</p>
<p>My admiration for this style of plot was on my mind when OpenAI
rolled out its current-newest ChatGPT model 5, which claimed substantial
advancements in generative code quality and further improvement on the
Thinking feature that had been introduced in the previous generation. I
<a href="https://www.infoworld.com/article/3844363/why-ai-generated-code-isnt-good-enough-and-how-it-will-get-better.html" class="external-link">am
fully skeptical</a> of the code produced by these tools, but I also
enjoy using ChatGPT for brainstorming so I wanted to give this model a
go.</p>
</div>
<div class="section level2">
<h2 id="development">Development<a class="anchor" aria-label="anchor" href="#development"></a>
</h2>
<p>It started with a question that had an obvious answer:</p>
<blockquote>
<p>Is it possible to develop an R package that takes ggplot grobs and
makes them look they were photographed from an old transparency slide?
Or like they were scanned from an old journal (in which they were hand
drawn)?</p>
</blockquote>
<p>ChatGPT told me of course it is, and laid out the rough framework
that would form the basis of the package:</p>
<center>
ggplot plot → magick image → magick image with ✨<em>effects</em>✨
</center>
<p>It provided filters with interesting names of
<code><a href="../reference/slideify_transparency.html">slideify_transparency()</a></code> and <code><a href="../reference/scanify_journal.html">scanify_journal()</a></code>,
which were kept forever. To address my desire to capture the hand-drawn
appearance of older plots/diagrams, the chatbot took the interesting
approach of rendering the plot as an svg, then wobbling the vectors and
rasterizing the result as a magick image. I was then refreshed on how to
build out an R package, which was a nice treat. Each of these functions
needed to be tested and refined, but I was in features mode so chugging
on.</p>
<p>I wanted to know the best way (in the chatbot’s perspective) one
would add period specific fonts to a plot, so users could easily get a
plot that looked like it came from a 1920s journal article. The solution
provided was a function that assigned certain eras and publication types
to known Google fonts, then <code>systemfont</code> and
<code>showtext</code> to render them in the image. This was a big
headache which also was set aside until later.</p>
<p>At this point, I think this is cool and maybe I wanted to work on it
more. Me and ChatGPT, the prompter and the coder. Any good package needs
a name to sell it, and while I did not think this would be a “good”
package I still wanted it to have a good name. ChatGPT provided me with
a few options, and I picked the first one which I also thought was best:
<strong><em>ggpatina</em></strong>. My only issue with the suggestions
was that many were very emphatic about this being a “ggplot2 extension”
(“gg” prefix); I don’t think merely taking a grob and then doing most of
the work with a magick image makes a package a ggplot2 extension.
Nevertheless, I kept the “gg” prefix, and tried to make further
improvements that would earn it.</p>
More filters were requested by the prompter, and now breaking from the
earlier naming scheme (I suppose since we have a name and branding is
important) four new filters were coded:
<center>
<code><a href="../reference/patina_ink_bleed.html">patina_ink_bleed()</a></code> <code><a href="../reference/patina_kodachrome.html">patina_kodachrome()</a></code>
<code><a href="../reference/patina_photocopy.html">patina_photocopy()</a></code> <code>patina_blueprint</code>
</center>
<p>Now, fully ready to actually run with this project, I asked ChatGPT
to give me everything so far as a package. It awkwardly provided me
files to copy and paste so I kindly said: &gt; Please provide the
package as a zip file</p>
I was obliged, and also gently reminded how I would install the zip file
directly (if I wanted to use it as is). The file/dir structure of the
zip file is below, pretty good starting point.
<div class="figure" style="text-align: center">
<img src="figures/ggpatinazip.png" alt="ggpatina.zip"><p class="caption">
ggpatina.zip
</p>
</div>
</div>
<div class="section level2">
<h2 id="refinement">Refinement<a class="anchor" aria-label="anchor" href="#refinement"></a>
</h2>
<p>As much as I love the <em>Motor Trends</em> analysis of 32 cars
released from 1972-1974, I’ll go ahead and use <code>penguins</code> for
this section. Just to switch it up.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">peng_p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">flipper_len</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">bill_len</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">220</span>, y <span class="op">=</span> <span class="fl">28</span>, label <span class="op">=</span> <span class="st">"Bill Length, mm"</span><span class="op">)</span>, size<span class="op">=</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">25</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">bill_dep</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">220</span>, y <span class="op">=</span> <span class="fl">22</span>, label <span class="op">=</span> <span class="st">"Bill Depth, mm"</span><span class="op">)</span>, size<span class="op">=</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>        x <span class="op">=</span> <span class="st">"Flipper Length, mm"</span>,</span>
<span>        y <span class="op">=</span> <span class="st">""</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<p>I started testing functions unsystematically, with
<code><a href="../reference/patina_ink_bleed.html">patina_ink_bleed()</a></code>. The first version ChatGPT provided
didn’t do much:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">peng_p</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/as_magick.html">as_magick</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">2.5</span>, height<span class="op">=</span><span class="fl">2</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/patina_ink_bleed.html">patina_ink_bleed</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="vibe_files/figure-html/unnamed-chunk-7-1.png" width="65%" style="display: block; margin: auto;"></p>
<p>Not great. The bleed effect was getting hidden. I sent ChatGPT a
message: “This code doesn’t seem to have any effect” along with the
function. It rewrote the compositing logic—building a proper mask from
dark ink, expanding and feathering it, then using that as an alpha
channel for a colored bleed layer that multiplies over the plot.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">peng_p</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/as_magick.html">as_magick</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">2.5</span>, height<span class="op">=</span><span class="fl">2</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/patina_ink_bleed.html">patina_ink_bleed</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="vibe_files/figure-html/unnamed-chunk-9-1.png" width="65%" style="display: block; margin: auto;"></p>
<p>Much better. This became the debugging pattern: test the function,
report what’s not working, get a refined version.</p>
</div>
<div class="section level2">
<h2 id="the-font-problem">The Font Problem<a class="anchor" aria-label="anchor" href="#the-font-problem"></a>
</h2>
<p>The period fonts system turned into its own adventure. First attempt
with the journal-1960s era gave me an error: <em>“Crimson Pro is not
available, using sans instead.”</em> I had
<code>install_if_missing</code> set to TRUE, so something was clearly
wrong.</p>
<p>The issue: <code><a href="https://systemfonts.r-lib.org/reference/match_fonts.html" class="external-link">systemfonts::match_font()</a></code> can’t see fonts
registered via sysfonts/showtext—it only checks system-installed fonts.
ChatGPT kept trying to validate fonts existed before registering them,
which created a circular problem. I pushed it to just register the fonts
through Google Fonts and trust they’d be available. That required using
safe aliases (<code>crimson_pro</code> instead of
<code>"Crimson Pro"</code>) and skipping the validation step
entirely.</p>
<p>That fixed font registration, but revealed a bigger problem: the
function was enabling <code>showtext_auto()</code> globally, which
affected <em>every</em> subsequent plot in my R session. Not acceptable.
After several iterations where ChatGPT suggested toggling showtext on
and off, I asked: <em>“Can you use withr to use that setting without
changing it globally once the plot is rendered?”</em></p>
<p>That was the breakthrough. The final solution uses
<code><a href="https://withr.r-lib.org/reference/defer.html" class="external-link">withr::defer()</a></code> to create scoped wrappers:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">with_showtext_auto</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">expr</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">withr</span><span class="fu">::</span><span class="fu"><a href="https://withr.r-lib.org/reference/defer.html" class="external-link">defer</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">showtext</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/showtext/man/showtext_auto.html" class="external-link">showtext_auto</a></span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span>    <span class="fu">showtext</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/showtext/man/showtext_opts.html" class="external-link">showtext_opts</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span>, <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu">showtext</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/showtext/man/showtext_auto.html" class="external-link">showtext_auto</a></span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="fu">showtext</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/showtext/man/showtext_opts.html" class="external-link">showtext_opts</a></span><span class="op">(</span>dpi <span class="op">=</span> <span class="fl">300</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/force.html" class="external-link">force</a></span><span class="op">(</span><span class="va">expr</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Now <code><a href="../reference/print_st.html">print_st()</a></code> and <code><a href="../reference/ggsave_st.html">ggsave_st()</a></code> enable
showtext just for a single operation. No global state changes.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">{</span><span class="va">peng_p</span> <span class="op">+</span> <span class="fu"><a href="../reference/theme_newspaper.html">theme_newspaper</a></span><span class="op">(</span><span class="op">)</span> <span class="op">}</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/apply_period_fonts.html">apply_period_fonts</a></span><span class="op">(</span>era<span class="op">=</span><span class="st">"typewriter-1950s"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/as_magick.html">as_magick</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">2.5</span>, height<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p><img src="vibe_files/figure-html/unnamed-chunk-11-1.png" width="65%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="the-hand-drawn-wobble-saga">The Hand-Drawn Wobble Saga<a class="anchor" aria-label="anchor" href="#the-hand-drawn-wobble-saga"></a>
</h2>
<p>The hand-drawn wiggle effect went through the most iterations.
ChatGPT’s initial approach: render the plot as SVG, apply an
<code>feTurbulence</code> displacement filter, then rasterize.
Conceptually elegant. In practice, a debugging nightmare.</p>
<p>First issue I reported: <em>“all theme info and fonts for the text is
lost when I leave affect_text=TRUE on.”</em> The SVG filter was wrapping
the <code>&lt;style&gt;</code> block inside a filtered group, which
librsvg ignores. That got fixed, but then I discovered fonts registered
via showtext weren’t available to the SVG renderer anyway—it only sees
system-installed fonts.</p>
<p>The next solution split the rendering: warp shapes via SVG
displacement, render text separately with ragg (which respects showtext
fonts), then composite the layers. This mostly worked, except I noticed
<em>“there is a weirdly large margin added to the text
elements.”</em></p>
<p>We went through multiple debugging rounds trying to fix filter
regions, viewBox settings, and edge masking. Nothing worked
consistently. I finally said: <em>“Perhaps we need to rethink the whole
approach… Can you try instead to rewrite the whole functionality to just
be a post-processing filter?”</em></p>
<p>The rewrite simplified everything: pure raster displacement. Render
the full plot with ragg, generate a 2-channel displacement map from
Gaussian noise, apply it using magick’s <code>displace</code> operator.
Much simpler. Actually worked.</p>
<p>But I still wanted the ability to wobble just the plot panel while
keeping titles crisp—a key feature for figures where you want hand-drawn
data but professional annotation. That required measuring the actual
panel viewport bounds from the ggplot layout. The solution turned out to
be quite clever:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">panel_mask_from_plot</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">p</span>, <span class="va">width</span>, <span class="va">height</span>, <span class="va">dpi</span>, <span class="va">feather</span> <span class="op">=</span> <span class="fl">10</span>,</span>
<span>                                 <span class="va">expand_px</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0L</span>, <span class="fl">0L</span><span class="op">)</span>, <span class="va">include_axes</span> <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># 1. Render plot to ragg device at exact target size</span></span>
<span>  <span class="co"># 2. Call grid.force() to materialize all viewports</span></span>
<span>  <span class="co"># 3. Use grid.ls() to find viewports with "panel" or "axis" in names</span></span>
<span>  <span class="co"># 4. Convert NPC coordinates to device pixels via grid::deviceLoc()</span></span>
<span>  <span class="co"># 5. Union all panel/axis boxes into single bounding box</span></span>
<span>  <span class="co"># 6. Add feathering and return magick mask</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Debugging the bounding box calculation was tedious. At one point I
had to report: <em>“Now I see the bounding box and it’s way off. I
thought it was calculating from the edge, but I realized it’s not.”</em>
The coordinate system math was completely wrong. Once corrected with the
debugging output I provided, it worked beautifully—precise panel
targeting with smooth edge feathering.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">peng_p</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/as_magick.html">as_magick</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">2.5</span>, height<span class="op">=</span><span class="fl">2</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/hand_drawn_wiggle.html">hand_drawn_wiggle</a></span><span class="op">(</span>strength <span class="op">=</span> <span class="fl">0.85</span><span class="op">)</span></span></code></pre></div>
<p><img src="vibe_files/figure-html/unnamed-chunk-13-1.png" width="65%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="more-effects-more-tuning">More Effects, More Tuning<a class="anchor" aria-label="anchor" href="#more-effects-more-tuning"></a>
</h2>
<p>With the infrastructure solid, I asked for more presets: <em>“old
newspaper; an old newscast; an old educational film.”</em> These came
together faster since the magick operation patterns were
established.</p>
<p>But each needed visual refinement. The newspaper halftone was
<em>“really hard to see”</em> with default settings—I asked for
adjustable parameters to control the effect strength. The photocopy was
<em>“too washed out”</em>—we added <code>ghost_opacity</code> and
<code>protect_lines</code> parameters to control how much the effect
washes out versus re-inks the strokes.</p>
<p>The journal scan had <em>“a weird gray band on top”</em>—the scanner
shadow was compositing over the title instead of looking like it was
behind the content. The fix involved extending the canvas upward,
drawing the shadow in a top margin, then rotating the entire page so the
shadow rotates with it.</p>
<p>One typical bug I caught: ChatGPT confidently wrote
<code>magick::image_sepia_tone()</code>. I reported: <em>“the magick
sepia function doesn’t exist.”</em> It immediately rewrote using
<code><a href="https://docs.ropensci.org/magick/reference/color.html" class="external-link">image_colorize()</a></code> with manual sepia calculations. These
hallucinations happened regularly—it would use functions that don’t
exist, then course-correct when caught.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">{</span><span class="va">peng_p</span> <span class="op">+</span> <span class="fu"><a href="../reference/theme_edu_film.html">theme_edu_film</a></span><span class="op">(</span><span class="op">)</span><span class="op">}</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/as_magick.html">as_magick</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">2.5</span>, height<span class="op">=</span><span class="fl">2</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/animate_edu_film.html">animate_edu_film</a></span><span class="op">(</span>n_frames<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<p><img src="vibe_files/figure-html/unnamed-chunk-14-1.gif" width="65%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="aesthetic-judgment">Aesthetic Judgment<a class="anchor" aria-label="anchor" href="#aesthetic-judgment"></a>
</h2>
<p>ChatGPT fundamentally can’t make visual design decisions. When the
transparency slide light leak was <em>“taking away from the plot image
too much,”</em> I had to tell it specifically to favor the original
image in the blend. When Kodachrome warmth was too subtle, I specified
stronger colorization values. When CRT scanlines were invisible at small
sizes, I adjusted the <code>scan_strength</code> parameter until they
were visible but not overwhelming.</p>
<p>Every effect went through this visual tuning loop. ChatGPT would
generate something technically correct but aesthetically wrong. I’d test
it, describe what I was seeing (<em>“too washed out”</em>, <em>“barely
noticeable”</em>, <em>“weird margin”</em>), and request specific
changes. It would adjust the underlying magick operations accordingly.
This worked because I could articulate the visual problem and it could
translate that into parameter adjustments.</p>
</div>
<div class="section level2">
<h2 id="themes-and-documentation">Themes and Documentation<a class="anchor" aria-label="anchor" href="#themes-and-documentation"></a>
</h2>
<p>The journal themes (1900s, 1930s, 1960s) came together quickly once
ChatGPT learned not to use <code>%+replace%</code> (which causes cryptic
ggplot2 errors) and to avoid touching user-specified text sizes.</p>
<p>For the README, ChatGPT initially wanted extensive documentation. I
kept pushing back: <em>“I would like a simple readme.Rmd… simpler than
the version you provided earlier.”</em> We iterated until it hit the
right tone—concise, example-focused, grab-and-go code snippets rather
than lengthy explanations.</p>
</div>
<div class="section level2">
<h2 id="final-thoughts">Final Thoughts<a class="anchor" aria-label="anchor" href="#final-thoughts"></a>
</h2>
<p>Total time investment: maybe 3-4 hours spread across several sessions
of prompting, testing, and iteration. ChatGPT wrote approximately 95% of
the code by line count. I provided 100% of the direction, quality
control, and aesthetic judgment.</p>
<p><strong>What ChatGPT was good at:</strong></p>
<ul>
<li>Generating boilerplate (roxygen documentation, package structure,
utility functions)</li>
<li>Implementing well-defined image operations when I described the
desired visual effect</li>
<li>Refactoring code when I pointed out architectural problems</li>
<li>Debugging specific errors when I provided clear error messages</li>
</ul>
<p><strong>What it was terrible at:</strong></p>
<ul>
<li>Anticipating edge cases or subtle rendering bugs</li>
<li>Knowing which magick/ggplot2 functions actually exist versus
hallucinating them</li>
<li>Understanding R’s graphics system (grid, viewports, coordinate
systems) without detailed guidance</li>
<li>Making visual or aesthetic design decisions</li>
<li>Avoiding unnecessary complexity</li>
</ul>
<p>The key to making this collaboration work: rapid iteration with
immediate testing. I tested each function as soon as it was written,
identified exactly what broke or looked wrong, and described the problem
precisely. ChatGPT would apply a fix. If that didn’t work, I’d give it
one more round, then suggest a completely different approach if
needed.</p>
<p>Would I use this workflow for production software that needs to be
reliable and maintainable? Maybe. For an experimental package exploring
a niche aesthetic idea that I wouldn’t have bothered coding manually?
Definitely. The boundaries were clear: I provided vision, taste, and
verification. ChatGPT provided implementation speed and tireless
iteration.</p>
<p>When it struggled with the viewport measurement debugging, working
through it step-by-step felt oddly like teaching. Even AI apparently
needs to learn that R’s graphics system is wonderfully arcane.</p>
<p>The result isn’t life-changing software, but it’s a functional,
documented package that scratches a specific aesthetic itch I’ve had for
years about old journal figures and vintage media. For a few hours of
prompting and testing, that’s more than enough.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by John Prybylski.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
