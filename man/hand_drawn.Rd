% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hand_drawn_svg.R
\name{hand_drawn}
\alias{hand_drawn}
\alias{hand_drawn_svg}
\title{Hand-drawn “wiggle” for ggplot/grobs}
\usage{
hand_drawn_svg(
  x,
  width = 6,
  height = 4,
  dpi = 300,
  scale = 2,
  freq = 0.6,
  seed = 3,
  affect_text = FALSE,
  fill_bg = NULL
)
}
\arguments{
\item{x}{A ggplot object or grid grob.}

\item{width, height}{Plot size in inches.}

\item{dpi}{Output resolution (pixels = \code{width*dpi} by \code{height*dpi}).}

\item{scale}{Displacement amplitude (roughly pixels; larger = wobblier).}

\item{freq}{Noise “frequency” (lower → broader waves, higher → finer jitter).}

\item{seed}{Integer seed for reproducible noise (affects text raster warp).}

\item{affect_text}{Logical; if \code{FALSE} text stays crisp, if \code{TRUE} it’s warped too.}

\item{fill_bg}{Background color for the returned image (e.g., \code{"white"} or \code{"transparent"}).}
}
\value{
A \code{magick-image} of size \code{width*dpi} by \code{height*dpi}.
}
\description{
Apply a hand-drawn wobble at exact pixel dimensions. Shapes are warped with an
SVG displacement filter; text is rendered with \code{ragg} so any font that works
in ggplot works here too. If \code{affect_text = TRUE}, the same kind of warp is
applied to the text layer using a raster displacement map, so labels wobble
as well without losing fonts/theme styling.
}
\details{
Shapes are warped in SVG (vector stage) and rasterized at the requested size.
Text is always drawn with \code{ragg} (so Google fonts you registered via
\code{sysfonts/showtext} are honored). When \code{affect_text = TRUE}, a displacement map
(generated to roughly match the SVG turbulence) is applied to the text layer
so its wobble visually matches the shapes.
}
\examples{
\dontrun{
p <- ggplot2::ggplot(mtcars, ggplot2::aes(wt, mpg)) +
  ggplot2::geom_point() + ggplot2::geom_smooth(se = FALSE) +
  ggplot2::theme_minimal(12)

# Shapes only wobble (text crisp)
img1 <- hand_drawn_svg(p, 6, 4, dpi = 300, scale = 3, freq = 0.5, seed = 7)

# Shapes + text wobble
img2 <- hand_drawn_svg(p, 6, 4, dpi = 300, scale = 3, freq = 0.5, seed = 7, affect_text = TRUE)
}

}
